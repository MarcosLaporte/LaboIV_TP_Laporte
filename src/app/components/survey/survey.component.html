<div class="container mt-5">
	<h4 class="mb-3">Fill in with our information</h4>
	<form class="needs-validation" [formGroup]="surveyForm" (ngSubmit)="submit()">
		<div class="row">
			<div class="col-md-6 mb-3">
				<label for="firstName">First name</label>
				<input type="text" class="form-control" id="firstName" formControlName="firstName" required>
				<div class="text-danger m-auto"
					*ngIf="surveyForm.controls['firstName'].errors !== null && surveyForm.controls['firstName'].touched">
					<small *ngIf="surveyForm.controls['firstName'].errors!['required']">
						First name is required.
					</small>
					<small *ngIf="surveyForm.controls['firstName'].errors!['pattern']">
						Invalid first name. Don't use letters outside the english dictionary.
					</small>
				</div>
			</div>

			<div class="col-md-6 mb-3">
				<label for="lastName">Last name</label>
				<input type="text" class="form-control" id="lastName" formControlName="lastName" required>
				<div class="text-danger m-auto"
					*ngIf="surveyForm.controls['lastName'].errors !== null && surveyForm.controls['lastName'].touched">
					<small *ngIf="surveyForm.controls['lastName'].errors!['required']">
						Last name is required.
					</small>
					<small *ngIf="surveyForm.controls['lastName'].errors!['pattern']">
						Invalid last name. Don't use letters outside the english dictionary.
					</small>
				</div>
			</div>
		</div>

		<div class="mb-3">
			<label for="email">Email adress</label>
			<div class="input-group">
				<div class="input-group-prepend"><span class="input-group-text">@</span></div>
				<input type="email" class="form-control" id="email" placeholder="you@example.com" formControlName="email"
					required>
			</div>
			<div class="text-danger m-auto"
				*ngIf="surveyForm.controls['email'].errors !== null && surveyForm.controls['email'].touched">
				<small *ngIf="surveyForm.controls['email'].errors!['required']">
					Email is required.
				</small>
				<small *ngIf="surveyForm.controls['email'].errors!['email']">
					Invalid email address.
				</small>
			</div>
		</div>

		<div class="row">
			<div class="col-md-6 mb-3">
				<label for="phoneNo">Phone Number</label>
				<div class="input-group">
					<div class="input-group-prepend"><span class="input-group-text">#</span></div>
					<input type="text" class="form-control" id="phoneNo" placeholder="" formControlName="phoneNo" required>
				</div>
				<div class="text-danger m-auto"
					*ngIf="surveyForm.controls['phoneNo'].errors !== null && surveyForm.controls['phoneNo'].touched">
					<small *ngIf="surveyForm.controls['phoneNo'].errors!['required']">
						Phone number is required.
					</small>
					<small *ngIf="surveyForm.controls['phoneNo'].errors!['pattern']">
						Phone number must be 10 numbers only.
					</small>
				</div>
			</div>

			<div class="col-md-6 mb-3">
				<label for="age">Age</label>
				<input type="number" class="form-control" id="age" min="18" max="99" formControlName="age" required>
				<div class="text-danger m-auto"
					*ngIf="surveyForm.controls['age'].errors !== null && surveyForm.controls['age'].touched">
					<small *ngIf="surveyForm.controls['age'].errors!['required']">
						Age is required.
					</small>
					<small *ngIf="surveyForm.controls['age'].errors!['min'] || surveyForm.controls['age'].errors!['max']">
						Age must be a number between 18 and 99.
					</small>
				</div>
			</div>
		</div>

		<hr class="mb-4">

		<div class="row">
			<div class="col-md-4 mb-4 form-check">
				<h4 class="d-flex justify-content-between align-items-center mb-3">
					<span class="text-muted">What's your favourite game?</span>
				</h4>
				<div class="list-group">
					<label class="list-group-item">
						<input class="form-check-input" type="radio" name="favGame" value="hangman" formControlName="favGame">
						Hangman
					</label>
					<label class="list-group-item">
						<input class="form-check-input" type="radio" name="favGame" value="hi-lo" formControlName="favGame">
						Higher or Lower
					</label>
					<label class="list-group-item">
						<input class="form-check-input" type="radio" name="favGame" value="trivia" formControlName="favGame">
						Trivia Crack
					</label>
					<label class="list-group-item">
						<input class="form-check-input" type="radio" name="favGame" value="color-test" formControlName="favGame">
						Color Test
					</label>
					<label class="list-group-item">
						<input class="form-check-input" type="radio" name="favGame" value="none" formControlName="favGame">
						None
					</label>
				</div>
				<div class="text-danger m-auto"
					*ngIf="surveyForm.controls['favGame'].errors !== null && surveyForm.controls['favGame'].touched">
					<small *ngIf="surveyForm.controls['favGame'].errors!['required']">
						Select a favourite game.
					</small>
					<small *ngIf="surveyForm.controls['favGame'].errors!['validGame']">
						There's been a problem, re-select a game.
					</small>
				</div>
			</div>

			<div class="col-md-8 mb-4 form-check">
				<div class="suggestion-container">
					<h4 class="d-flex justify-content-between align-items-center mb-3">
						<span class="text-muted">Do you have any suggestion for us?</span>
					</h4>
					<textarea type="text" rows="3" class="form-control overflow-y-scroll" id="suggestion"
						formControlName="suggestion"></textarea>
					<div class="text-danger m-auto"
						*ngIf="surveyForm.controls['suggestion'].errors !== null && surveyForm.controls['suggestion'].touched">
						<small *ngIf="surveyForm.controls['suggestion'].errors!['required']">
							At least write if you liked it :(
						</small>
						<small *ngIf="surveyForm.controls['suggestion'].errors!['maxlength']">
							Text must be shorter than 255 characters.
						</small>
					</div>
				</div>

				<div class="recommendation-container text-center">
					<h4 class="d-flex justify-content-between align-items-center">
						<span class="text-muted">How likely are you to recommend us to your friends?</span>
					</h4>
					<label for="recomRange" class="form-label">From 0 to 5</label>
					<input type="range" class="form-range" min="0" max="5" id="recomRange" formControlName="recommendation">
				</div>
			</div>
		</div>

		<button class="btn btn-primary btn-lg btn-block" type="submit" [disabled]="surveyForm.invalid">Submit survey</button>
	</form>
</div>